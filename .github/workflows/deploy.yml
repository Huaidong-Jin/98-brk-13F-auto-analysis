# Deploy: enable when ready. Backend → Cloud Run, Frontend → Vercel.
name: Deploy

on:
  push:
    branches: [main]

jobs:
  deploy-backend:
    if: false
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Build and push to Artifact Registry
        run: |
          echo "Set up gcloud auth and:"
          echo "  docker build -t gcr.io/PROJECT_ID/brk13f-api ./backend"
          echo "  docker push gcr.io/PROJECT_ID/brk13f-api"
      - name: Deploy to Cloud Run
        run: |
          echo "  gcloud run deploy brk13f-api --image gcr.io/PROJECT_ID/brk13f-api --region us-central1"
          echo "Set DATABASE_URL (Cloud SQL) and secrets via --set-secrets"

  deploy-frontend:
    if: false
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Deploy to Vercel
        run: |
          echo "Connect this repo in Vercel dashboard or use vercel --prod"
          echo "Set NEXT_PUBLIC_API_URL to Cloud Run URL"
